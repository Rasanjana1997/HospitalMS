{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport raf from \"rc-util/es/raf\";\nimport { useComposeRef } from \"rc-util/es/ref\";\nimport ResizeObserver from 'rc-resize-observer';\nimport useRaf, { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport useVisibleRange from '../hooks/useVisibleRange';\nimport OperationNode from './OperationNode';\nimport TabContext from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport useRefs from '../hooks/useRefs';\nimport AddButton from './AddButton';\nimport useSyncState from '../hooks/useSyncState';\nimport { stringify } from '../util';\nimport ExtraContent from './ExtraContent';\n\nvar getSize = function getSize(refObj) {\n  var _ref = refObj.current || {},\n      _ref$offsetWidth = _ref.offsetWidth,\n      offsetWidth = _ref$offsetWidth === void 0 ? 0 : _ref$offsetWidth,\n      _ref$offsetHeight = _ref.offsetHeight,\n      offsetHeight = _ref$offsetHeight === void 0 ? 0 : _ref$offsetHeight;\n\n  return [offsetWidth, offsetHeight];\n};\n/**\n * Convert `SizeInfo` to unit value. Such as [123, 456] with `top` position get `123`\n */\n\n\nvar getUnitValue = function getUnitValue(size, tabPositionTopOrBottom) {\n  return size[tabPositionTopOrBottom ? 0 : 1];\n};\n\nfunction TabNavList(props, ref) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var className = props.className,\n      style = props.style,\n      id = props.id,\n      animated = props.animated,\n      activeKey = props.activeKey,\n      rtl = props.rtl,\n      extra = props.extra,\n      editable = props.editable,\n      locale = props.locale,\n      tabPosition = props.tabPosition,\n      tabBarGutter = props.tabBarGutter,\n      children = props.children,\n      onTabClick = props.onTabClick,\n      onTabScroll = props.onTabScroll;\n  var containerRef = useRef();\n  var extraLeftRef = useRef();\n  var extraRightRef = useRef();\n  var tabsWrapperRef = useRef();\n  var tabListRef = useRef();\n  var operationsRef = useRef();\n  var innerAddButtonRef = useRef();\n\n  var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      getBtnRef = _useRefs2[0],\n      removeBtnRef = _useRefs2[1];\n\n  var tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n\n  var _useSyncState = useSyncState(0, function (next, prev) {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n\n  var _useSyncState3 = useSyncState(0, function (next, prev) {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n\n  var _useState = useState([0, 0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      containerExcludeExtraSize = _useState2[0],\n      setContainerExcludeExtraSize = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tabContentSize = _useState4[0],\n      setTabContentSize = _useState4[1];\n\n  var _useState5 = useState([0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      addSize = _useState6[0],\n      setAddSize = _useState6[1];\n\n  var _useState7 = useState([0, 0]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      operationSize = _useState8[0],\n      setOperationSize = _useState8[1];\n\n  var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n\n  var tabOffsets = useOffsets(tabs, tabSizes, tabContentSize[0]); // ========================== Unit =========================\n\n  var containerExcludeExtraSizeValue = getUnitValue(containerExcludeExtraSize, tabPositionTopOrBottom);\n  var tabContentSizeValue = getUnitValue(tabContentSize, tabPositionTopOrBottom);\n  var addSizeValue = getUnitValue(addSize, tabPositionTopOrBottom);\n  var operationSizeValue = getUnitValue(operationSize, tabPositionTopOrBottom);\n  var needScroll = containerExcludeExtraSizeValue < tabContentSizeValue + addSizeValue;\n  var visibleTabContentValue = needScroll ? containerExcludeExtraSizeValue - operationSizeValue : containerExcludeExtraSizeValue - addSizeValue; // ========================== Util =========================\n\n  var operationsHiddenClassName = \"\".concat(prefixCls, \"-nav-operations-hidden\");\n  var transformMin = 0;\n  var transformMax = 0;\n\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, tabContentSizeValue - visibleTabContentValue);\n  } else {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  }\n\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return transformMin;\n    }\n\n    if (value > transformMax) {\n      return transformMax;\n    }\n\n    return value;\n  } // ========================= Mobile ========================\n\n\n  var touchMovingRef = useRef();\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      lockAnimation = _useState10[0],\n      setLockAnimation = _useState10[1];\n\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n\n  function clearTouchMoving() {\n    window.clearTimeout(touchMovingRef.current);\n  }\n\n  useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n    function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    } // Skip scroll if place is enough\n\n\n    if (containerExcludeExtraSizeValue >= tabContentSizeValue) {\n      return false;\n    }\n\n    if (tabPositionTopOrBottom) {\n      doMove(setTransformLeft, offsetX);\n    } else {\n      doMove(setTransformTop, offsetY);\n    }\n\n    clearTouchMoving();\n    doLockAnimation();\n    return true;\n  });\n  useEffect(function () {\n    clearTouchMoving();\n\n    if (lockAnimation) {\n      touchMovingRef.current = window.setTimeout(function () {\n        setLockAnimation(0);\n      }, 100);\n    }\n\n    return clearTouchMoving;\n  }, [lockAnimation]); // ===================== Visible Range =====================\n  // Render tab node & collect tab offset\n\n  var _useVisibleRange = useVisibleRange(tabOffsets, // Container\n  visibleTabContentValue, // Transform\n  tabPositionTopOrBottom ? transformLeft : transformTop, // Tabs\n  tabContentSizeValue, // Add\n  addSizeValue, // Operation\n  operationSizeValue, _objectSpread(_objectSpread({}, props), {}, {\n    tabs: tabs\n  })),\n      _useVisibleRange2 = _slicedToArray(_useVisibleRange, 2),\n      visibleStart = _useVisibleRange2[0],\n      visibleEnd = _useVisibleRange2[1]; // ========================= Scroll ========================\n\n\n  var scrollToTab = function scrollToTab() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : activeKey;\n    var tabOffset = tabOffsets.get(key) || {\n      width: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0\n    };\n\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      var newTransform = transformLeft; // RTL\n\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + visibleTabContentValue) {\n          newTransform = tabOffset.right + tabOffset.width - visibleTabContentValue;\n        }\n      } // LTR\n      else if (tabOffset.left < -transformLeft) {\n        newTransform = -tabOffset.left;\n      } else if (tabOffset.left + tabOffset.width > -transformLeft + visibleTabContentValue) {\n        newTransform = -(tabOffset.left + tabOffset.width - visibleTabContentValue);\n      }\n\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform));\n    } else {\n      // ============ Align with left & right ============\n      var _newTransform = transformTop;\n\n      if (tabOffset.top < -transformTop) {\n        _newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + visibleTabContentValue) {\n        _newTransform = -(tabOffset.top + tabOffset.height - visibleTabContentValue);\n      }\n\n      setTransformLeft(0);\n      setTransformTop(alignInRange(_newTransform));\n    }\n  }; // ========================== Tab ==========================\n\n\n  var tabNodeStyle = {};\n\n  if (tabPosition === 'top' || tabPosition === 'bottom') {\n    tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = tabBarGutter;\n  } else {\n    tabNodeStyle.marginTop = tabBarGutter;\n  }\n\n  var tabNodes = tabs.map(function (tab, i) {\n    var key = tab.key;\n    return /*#__PURE__*/React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      tab: tab\n      /* first node should not have margin left */\n      ,\n      style: i === 0 ? undefined : tabNodeStyle,\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      renderWrapper: children,\n      removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n      ref: getBtnRef(key),\n      onClick: function onClick(e) {\n        onTabClick(key, e);\n      },\n      onRemove: function onRemove() {\n        removeBtnRef(key);\n      },\n      onFocus: function onFocus() {\n        scrollToTab(key);\n        doLockAnimation();\n\n        if (!tabsWrapperRef.current) {\n          return;\n        } // Focus element will make scrollLeft change which we should reset back\n\n\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n\n        tabsWrapperRef.current.scrollTop = 0;\n      }\n    });\n  });\n  var onListHolderResize = useRaf(function () {\n    // Update wrapper records\n    var containerSize = getSize(containerRef);\n    var extraLeftSize = getSize(extraLeftRef);\n    var extraRightSize = getSize(extraRightRef);\n    setContainerExcludeExtraSize([containerSize[0] - extraLeftSize[0] - extraRightSize[0], containerSize[1] - extraLeftSize[1] - extraRightSize[1]]);\n    var newAddSize = getSize(innerAddButtonRef);\n    setAddSize(newAddSize);\n    var newOperationSize = getSize(operationsRef);\n    setOperationSize(newOperationSize); // Which includes add button size\n\n    var tabContentFullSize = getSize(tabListRef);\n    setTabContentSize([tabContentFullSize[0] - newAddSize[0], tabContentFullSize[1] - newAddSize[1]]); // Update buttons records\n\n    setTabSizes(function () {\n      var newSizes = new Map();\n      tabs.forEach(function (_ref2) {\n        var key = _ref2.key;\n        var btnNode = getBtnRef(key).current;\n\n        if (btnNode) {\n          newSizes.set(key, {\n            width: btnNode.offsetWidth,\n            height: btnNode.offsetHeight,\n            left: btnNode.offsetLeft,\n            top: btnNode.offsetTop\n          });\n        }\n      });\n      return newSizes;\n    });\n  }); // ======================== Dropdown =======================\n\n  var startHiddenTabs = tabs.slice(0, visibleStart);\n  var endHiddenTabs = tabs.slice(visibleEnd + 1);\n  var hiddenTabs = [].concat(_toConsumableArray(startHiddenTabs), _toConsumableArray(endHiddenTabs)); // =================== Link & Operations ===================\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inkStyle = _useState12[0],\n      setInkStyle = _useState12[1];\n\n  var activeTabOffset = tabOffsets.get(activeKey); // Delay set ink style to avoid remove tab blink\n\n  var inkBarRafRef = useRef();\n\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n\n  useEffect(function () {\n    var newInkStyle = {};\n\n    if (activeTabOffset) {\n      if (tabPositionTopOrBottom) {\n        if (rtl) {\n          newInkStyle.right = activeTabOffset.right;\n        } else {\n          newInkStyle.left = activeTabOffset.left;\n        }\n\n        newInkStyle.width = activeTabOffset.width;\n      } else {\n        newInkStyle.top = activeTabOffset.top;\n        newInkStyle.height = activeTabOffset.height;\n      }\n    }\n\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(function () {\n      setInkStyle(newInkStyle);\n    });\n    return cleanInkBarRaf;\n  }, [activeTabOffset, tabPositionTopOrBottom, rtl]); // ========================= Effect ========================\n\n  useEffect(function () {\n    scrollToTab(); // eslint-disable-next-line\n  }, [activeKey, stringify(activeTabOffset), stringify(tabOffsets), tabPositionTopOrBottom]); // Should recalculate when rtl changed\n\n  useEffect(function () {\n    onListHolderResize(); // eslint-disable-next-line\n  }, [rtl]); // ========================= Render ========================\n\n  var hasDropdown = !!hiddenTabs.length;\n  var wrapPrefix = \"\".concat(prefixCls, \"-nav-wrap\");\n  var pingLeft;\n  var pingRight;\n  var pingTop;\n  var pingBottom;\n\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = -transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = -transformTop + containerExcludeExtraSizeValue < tabContentSizeValue;\n  }\n\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: useComposeRef(ref, containerRef),\n    role: \"tablist\",\n    className: classNames(\"\".concat(prefixCls, \"-nav\"), className),\n    style: style,\n    onKeyDown: function onKeyDown() {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraLeftRef,\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n    ref: tabsWrapperRef\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabListRef,\n    className: \"\".concat(prefixCls, \"-nav-list\"),\n    style: {\n      transform: \"translate(\".concat(transformLeft, \"px, \").concat(transformTop, \"px)\"),\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, /*#__PURE__*/React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n      visibility: hasDropdown ? 'hidden' : null\n    })\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-ink-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-ink-bar-animated\"), animated.inkBar)),\n    style: inkStyle\n  })))), /*#__PURE__*/React.createElement(OperationNode, _extends({}, props, {\n    removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName,\n    tabMoving: !!lockAnimation\n  })), /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraRightRef,\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  })));\n  /* eslint-enable */\n}\n\nexport default /*#__PURE__*/React.forwardRef(TabNavList);","map":{"version":3,"sources":["C:/Users/DELL/Desktop/HospitalMS/frontend/node_modules/rc-tabs/es/TabNavList/index.js"],"names":["_extends","_defineProperty","_toConsumableArray","_objectSpread","_slicedToArray","React","useState","useRef","useEffect","classNames","raf","useComposeRef","ResizeObserver","useRaf","useRafState","TabNode","useOffsets","useVisibleRange","OperationNode","TabContext","useTouchMove","useRefs","AddButton","useSyncState","stringify","ExtraContent","getSize","refObj","_ref","current","_ref$offsetWidth","offsetWidth","_ref$offsetHeight","offsetHeight","getUnitValue","size","tabPositionTopOrBottom","TabNavList","props","ref","_classNames","_React$useContext","useContext","prefixCls","tabs","className","style","id","animated","activeKey","rtl","extra","editable","locale","tabPosition","tabBarGutter","children","onTabClick","onTabScroll","containerRef","extraLeftRef","extraRightRef","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useRefs","_useRefs2","getBtnRef","removeBtnRef","_useSyncState","next","prev","direction","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","_useState","_useState2","containerExcludeExtraSize","setContainerExcludeExtraSize","_useState3","_useState4","tabContentSize","setTabContentSize","_useState5","_useState6","addSize","setAddSize","_useState7","_useState8","operationSize","setOperationSize","_useRafState","Map","_useRafState2","tabSizes","setTabSizes","tabOffsets","containerExcludeExtraSizeValue","tabContentSizeValue","addSizeValue","operationSizeValue","needScroll","visibleTabContentValue","operationsHiddenClassName","concat","transformMin","transformMax","Math","min","max","alignInRange","value","touchMovingRef","_useState9","_useState10","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","window","clearTimeout","offsetX","offsetY","doMove","setState","offset","newValue","setTimeout","_useVisibleRange","_useVisibleRange2","visibleStart","visibleEnd","scrollToTab","key","arguments","length","undefined","tabOffset","get","width","height","left","right","top","newTransform","_newTransform","tabNodeStyle","marginTop","tabNodes","map","tab","i","createElement","closable","active","renderWrapper","removeAriaLabel","onClick","e","onRemove","onFocus","scrollLeft","scrollTop","onListHolderResize","containerSize","extraLeftSize","extraRightSize","newAddSize","newOperationSize","tabContentFullSize","newSizes","forEach","_ref2","btnNode","set","offsetLeft","offsetTop","startHiddenTabs","slice","endHiddenTabs","hiddenTabs","_useState11","_useState12","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","cancel","newInkStyle","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","onResize","role","onKeyDown","position","transform","transition","visibility","inkBar","tabMoving","forwardRef"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport raf from \"rc-util/es/raf\";\nimport { useComposeRef } from \"rc-util/es/ref\";\nimport ResizeObserver from 'rc-resize-observer';\nimport useRaf, { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport useVisibleRange from '../hooks/useVisibleRange';\nimport OperationNode from './OperationNode';\nimport TabContext from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport useRefs from '../hooks/useRefs';\nimport AddButton from './AddButton';\nimport useSyncState from '../hooks/useSyncState';\nimport { stringify } from '../util';\nimport ExtraContent from './ExtraContent';\n\nvar getSize = function getSize(refObj) {\n  var _ref = refObj.current || {},\n      _ref$offsetWidth = _ref.offsetWidth,\n      offsetWidth = _ref$offsetWidth === void 0 ? 0 : _ref$offsetWidth,\n      _ref$offsetHeight = _ref.offsetHeight,\n      offsetHeight = _ref$offsetHeight === void 0 ? 0 : _ref$offsetHeight;\n\n  return [offsetWidth, offsetHeight];\n};\n/**\n * Convert `SizeInfo` to unit value. Such as [123, 456] with `top` position get `123`\n */\n\n\nvar getUnitValue = function getUnitValue(size, tabPositionTopOrBottom) {\n  return size[tabPositionTopOrBottom ? 0 : 1];\n};\n\nfunction TabNavList(props, ref) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var className = props.className,\n      style = props.style,\n      id = props.id,\n      animated = props.animated,\n      activeKey = props.activeKey,\n      rtl = props.rtl,\n      extra = props.extra,\n      editable = props.editable,\n      locale = props.locale,\n      tabPosition = props.tabPosition,\n      tabBarGutter = props.tabBarGutter,\n      children = props.children,\n      onTabClick = props.onTabClick,\n      onTabScroll = props.onTabScroll;\n  var containerRef = useRef();\n  var extraLeftRef = useRef();\n  var extraRightRef = useRef();\n  var tabsWrapperRef = useRef();\n  var tabListRef = useRef();\n  var operationsRef = useRef();\n  var innerAddButtonRef = useRef();\n\n  var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      getBtnRef = _useRefs2[0],\n      removeBtnRef = _useRefs2[1];\n\n  var tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n\n  var _useSyncState = useSyncState(0, function (next, prev) {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n\n  var _useSyncState3 = useSyncState(0, function (next, prev) {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n\n  var _useState = useState([0, 0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      containerExcludeExtraSize = _useState2[0],\n      setContainerExcludeExtraSize = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tabContentSize = _useState4[0],\n      setTabContentSize = _useState4[1];\n\n  var _useState5 = useState([0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      addSize = _useState6[0],\n      setAddSize = _useState6[1];\n\n  var _useState7 = useState([0, 0]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      operationSize = _useState8[0],\n      setOperationSize = _useState8[1];\n\n  var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n\n  var tabOffsets = useOffsets(tabs, tabSizes, tabContentSize[0]); // ========================== Unit =========================\n\n  var containerExcludeExtraSizeValue = getUnitValue(containerExcludeExtraSize, tabPositionTopOrBottom);\n  var tabContentSizeValue = getUnitValue(tabContentSize, tabPositionTopOrBottom);\n  var addSizeValue = getUnitValue(addSize, tabPositionTopOrBottom);\n  var operationSizeValue = getUnitValue(operationSize, tabPositionTopOrBottom);\n  var needScroll = containerExcludeExtraSizeValue < tabContentSizeValue + addSizeValue;\n  var visibleTabContentValue = needScroll ? containerExcludeExtraSizeValue - operationSizeValue : containerExcludeExtraSizeValue - addSizeValue; // ========================== Util =========================\n\n  var operationsHiddenClassName = \"\".concat(prefixCls, \"-nav-operations-hidden\");\n  var transformMin = 0;\n  var transformMax = 0;\n\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, tabContentSizeValue - visibleTabContentValue);\n  } else {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  }\n\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return transformMin;\n    }\n\n    if (value > transformMax) {\n      return transformMax;\n    }\n\n    return value;\n  } // ========================= Mobile ========================\n\n\n  var touchMovingRef = useRef();\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      lockAnimation = _useState10[0],\n      setLockAnimation = _useState10[1];\n\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n\n  function clearTouchMoving() {\n    window.clearTimeout(touchMovingRef.current);\n  }\n\n  useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n    function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    } // Skip scroll if place is enough\n\n\n    if (containerExcludeExtraSizeValue >= tabContentSizeValue) {\n      return false;\n    }\n\n    if (tabPositionTopOrBottom) {\n      doMove(setTransformLeft, offsetX);\n    } else {\n      doMove(setTransformTop, offsetY);\n    }\n\n    clearTouchMoving();\n    doLockAnimation();\n    return true;\n  });\n  useEffect(function () {\n    clearTouchMoving();\n\n    if (lockAnimation) {\n      touchMovingRef.current = window.setTimeout(function () {\n        setLockAnimation(0);\n      }, 100);\n    }\n\n    return clearTouchMoving;\n  }, [lockAnimation]); // ===================== Visible Range =====================\n  // Render tab node & collect tab offset\n\n  var _useVisibleRange = useVisibleRange(tabOffsets, // Container\n  visibleTabContentValue, // Transform\n  tabPositionTopOrBottom ? transformLeft : transformTop, // Tabs\n  tabContentSizeValue, // Add\n  addSizeValue, // Operation\n  operationSizeValue, _objectSpread(_objectSpread({}, props), {}, {\n    tabs: tabs\n  })),\n      _useVisibleRange2 = _slicedToArray(_useVisibleRange, 2),\n      visibleStart = _useVisibleRange2[0],\n      visibleEnd = _useVisibleRange2[1]; // ========================= Scroll ========================\n\n\n  var scrollToTab = function scrollToTab() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : activeKey;\n    var tabOffset = tabOffsets.get(key) || {\n      width: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0\n    };\n\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      var newTransform = transformLeft; // RTL\n\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + visibleTabContentValue) {\n          newTransform = tabOffset.right + tabOffset.width - visibleTabContentValue;\n        }\n      } // LTR\n      else if (tabOffset.left < -transformLeft) {\n        newTransform = -tabOffset.left;\n      } else if (tabOffset.left + tabOffset.width > -transformLeft + visibleTabContentValue) {\n        newTransform = -(tabOffset.left + tabOffset.width - visibleTabContentValue);\n      }\n\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform));\n    } else {\n      // ============ Align with left & right ============\n      var _newTransform = transformTop;\n\n      if (tabOffset.top < -transformTop) {\n        _newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + visibleTabContentValue) {\n        _newTransform = -(tabOffset.top + tabOffset.height - visibleTabContentValue);\n      }\n\n      setTransformLeft(0);\n      setTransformTop(alignInRange(_newTransform));\n    }\n  }; // ========================== Tab ==========================\n\n\n  var tabNodeStyle = {};\n\n  if (tabPosition === 'top' || tabPosition === 'bottom') {\n    tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = tabBarGutter;\n  } else {\n    tabNodeStyle.marginTop = tabBarGutter;\n  }\n\n  var tabNodes = tabs.map(function (tab, i) {\n    var key = tab.key;\n    return /*#__PURE__*/React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      tab: tab\n      /* first node should not have margin left */\n      ,\n      style: i === 0 ? undefined : tabNodeStyle,\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      renderWrapper: children,\n      removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n      ref: getBtnRef(key),\n      onClick: function onClick(e) {\n        onTabClick(key, e);\n      },\n      onRemove: function onRemove() {\n        removeBtnRef(key);\n      },\n      onFocus: function onFocus() {\n        scrollToTab(key);\n        doLockAnimation();\n\n        if (!tabsWrapperRef.current) {\n          return;\n        } // Focus element will make scrollLeft change which we should reset back\n\n\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n\n        tabsWrapperRef.current.scrollTop = 0;\n      }\n    });\n  });\n  var onListHolderResize = useRaf(function () {\n    // Update wrapper records\n    var containerSize = getSize(containerRef);\n    var extraLeftSize = getSize(extraLeftRef);\n    var extraRightSize = getSize(extraRightRef);\n    setContainerExcludeExtraSize([containerSize[0] - extraLeftSize[0] - extraRightSize[0], containerSize[1] - extraLeftSize[1] - extraRightSize[1]]);\n    var newAddSize = getSize(innerAddButtonRef);\n    setAddSize(newAddSize);\n    var newOperationSize = getSize(operationsRef);\n    setOperationSize(newOperationSize); // Which includes add button size\n\n    var tabContentFullSize = getSize(tabListRef);\n    setTabContentSize([tabContentFullSize[0] - newAddSize[0], tabContentFullSize[1] - newAddSize[1]]); // Update buttons records\n\n    setTabSizes(function () {\n      var newSizes = new Map();\n      tabs.forEach(function (_ref2) {\n        var key = _ref2.key;\n        var btnNode = getBtnRef(key).current;\n\n        if (btnNode) {\n          newSizes.set(key, {\n            width: btnNode.offsetWidth,\n            height: btnNode.offsetHeight,\n            left: btnNode.offsetLeft,\n            top: btnNode.offsetTop\n          });\n        }\n      });\n      return newSizes;\n    });\n  }); // ======================== Dropdown =======================\n\n  var startHiddenTabs = tabs.slice(0, visibleStart);\n  var endHiddenTabs = tabs.slice(visibleEnd + 1);\n  var hiddenTabs = [].concat(_toConsumableArray(startHiddenTabs), _toConsumableArray(endHiddenTabs)); // =================== Link & Operations ===================\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inkStyle = _useState12[0],\n      setInkStyle = _useState12[1];\n\n  var activeTabOffset = tabOffsets.get(activeKey); // Delay set ink style to avoid remove tab blink\n\n  var inkBarRafRef = useRef();\n\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n\n  useEffect(function () {\n    var newInkStyle = {};\n\n    if (activeTabOffset) {\n      if (tabPositionTopOrBottom) {\n        if (rtl) {\n          newInkStyle.right = activeTabOffset.right;\n        } else {\n          newInkStyle.left = activeTabOffset.left;\n        }\n\n        newInkStyle.width = activeTabOffset.width;\n      } else {\n        newInkStyle.top = activeTabOffset.top;\n        newInkStyle.height = activeTabOffset.height;\n      }\n    }\n\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(function () {\n      setInkStyle(newInkStyle);\n    });\n    return cleanInkBarRaf;\n  }, [activeTabOffset, tabPositionTopOrBottom, rtl]); // ========================= Effect ========================\n\n  useEffect(function () {\n    scrollToTab(); // eslint-disable-next-line\n  }, [activeKey, stringify(activeTabOffset), stringify(tabOffsets), tabPositionTopOrBottom]); // Should recalculate when rtl changed\n\n  useEffect(function () {\n    onListHolderResize(); // eslint-disable-next-line\n  }, [rtl]); // ========================= Render ========================\n\n  var hasDropdown = !!hiddenTabs.length;\n  var wrapPrefix = \"\".concat(prefixCls, \"-nav-wrap\");\n  var pingLeft;\n  var pingRight;\n  var pingTop;\n  var pingBottom;\n\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = -transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = -transformTop + containerExcludeExtraSizeValue < tabContentSizeValue;\n  }\n\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: useComposeRef(ref, containerRef),\n    role: \"tablist\",\n    className: classNames(\"\".concat(prefixCls, \"-nav\"), className),\n    style: style,\n    onKeyDown: function onKeyDown() {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraLeftRef,\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n    ref: tabsWrapperRef\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabListRef,\n    className: \"\".concat(prefixCls, \"-nav-list\"),\n    style: {\n      transform: \"translate(\".concat(transformLeft, \"px, \").concat(transformTop, \"px)\"),\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, /*#__PURE__*/React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n      visibility: hasDropdown ? 'hidden' : null\n    })\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-ink-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-ink-bar-animated\"), animated.inkBar)),\n    style: inkStyle\n  })))), /*#__PURE__*/React.createElement(OperationNode, _extends({}, props, {\n    removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName,\n    tabMoving: !!lockAnimation\n  })), /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraRightRef,\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  })));\n  /* eslint-enable */\n}\n\nexport default /*#__PURE__*/React.forwardRef(TabNavList);"]},"metadata":{},"sourceType":"module"}